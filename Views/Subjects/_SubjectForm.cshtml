@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<form id="subjects-form">

    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add new subject</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <label>Subject Code</label>
        <input type="text" class="form-control mb-2" name="SubjectCode" />

        <label>Subject Name</label>
        <input type="text" class="form-control mb-2" name="SubjectName" />

        <label>Subject Description</label>
        <textarea class="form-control" name="SubjectDescription"></textarea>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save</button>
    </div>

</form>

<script>

    $(document).ready(function () {

        $('#subjects-form').submit(function (e) {
            e.preventDefault();
            saveForm();
        });

    });

    function saveForm() {
        var inputs = $('#subjects-form').find('input, textarea, select')
        var formData = getFormDataDynamicFunction(inputs);

        $.ajax({
            cache: false,
            type: "post",
            dataType: "JSON",
            url: '@Url.Action("AddSubject", "Subjects")',
            data: formData,
            success: function (res) {
                console.log(res);
            }
        });
    }

</script>